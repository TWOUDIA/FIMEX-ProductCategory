<ion-view>
    <ion-nav-buttons side="left">
        <div class="bar bar-header item-input-inset" ng-if="hasFilters">
            <label class="item-input-wrapper textbox-search">
                <i class="icon ion-ios7-search placeholder-icon"></i>
                <input type="search" placeholder="Search">
            </label>
        </div>
    </ion-nav-buttons>
    <ion-nav-title ng-show="!hasFilters">
        Products
        <div ng-hide="!termQS">{{'TAB_TITLE_POSTS' | translate }} - {{ termQS.Type | translate }} : {{ termQS.Term }}</div>
        <div ng-hide="termQS">{{'TAB_TITLE_POSTS' | translate }}</div>
    </ion-nav-title>
    <ion-nav-buttons side="right">
        <a data-tap-disabled="true" class=" button button-icon icon positive" ng-click="openFilters(hasFilters);" ng-class="{'ion-search':!hasFilters,'ion-close-circled':hasFilters}"></a>
    </ion-nav-buttons>

    <ion-content>
        <ion-refresher on-refresh="doRefresh()"></ion-refresher>
        <ion-list ng-show="products">
            <ion-item class="item-icon-right" ng-repeat="product in products" type="item-text-wrap" ng-click="updateCategories({{product.categories[0]}})" href="#/tab/products/{{product.id}}">
                <img ng-src="{{product.featured_src}}" style="width:50px;height:50px;margin:auto;display:block" />
                <div>
                    <p ng-bind-html="product.title"></p>
                    <p ng-if="product.categories" ng-bind-html="product.categories[0]"></p>
                    <p ng-if="product.short_description" ng-bind-html="product.short_description"></p></div>
                <i class="icon ion-chevron-right icon-accessory"></i>
            </ion-item>
        </ion-list>
        <h3 ng-hide="products" ng-class="{null: !RSempty}">{{'ALERT_RECORD_NULL' | translate}}</h3>
        <ion-infinite-scroll ng-if="moreDataExists()"
                             on-infinite="loadMore()"
                             distance="1%"
                             immediate-check="false">
        </ion-infinite-scroll>
    </ion-content>
</ion-view>